<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1.git 初始化 | Awesome-FE</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="个人笔记">
    
    <link rel="preload" href="/awesome/assets/css/0.styles.43393e4c.css" as="style"><link rel="preload" href="/awesome/assets/js/app.4cd6568a.js" as="script"><link rel="preload" href="/awesome/assets/js/2.4fcc29d0.js" as="script"><link rel="preload" href="/awesome/assets/js/18.e13642e7.js" as="script"><link rel="prefetch" href="/awesome/assets/js/10.5ee9393c.js"><link rel="prefetch" href="/awesome/assets/js/100.c6c2220a.js"><link rel="prefetch" href="/awesome/assets/js/101.98ac174e.js"><link rel="prefetch" href="/awesome/assets/js/102.e75f8c48.js"><link rel="prefetch" href="/awesome/assets/js/103.4f027dbe.js"><link rel="prefetch" href="/awesome/assets/js/104.ddc9e517.js"><link rel="prefetch" href="/awesome/assets/js/105.c4ead6ec.js"><link rel="prefetch" href="/awesome/assets/js/106.420e475c.js"><link rel="prefetch" href="/awesome/assets/js/107.f8ca1fb1.js"><link rel="prefetch" href="/awesome/assets/js/108.b47f311d.js"><link rel="prefetch" href="/awesome/assets/js/109.28c204ee.js"><link rel="prefetch" href="/awesome/assets/js/11.2c9b81ff.js"><link rel="prefetch" href="/awesome/assets/js/110.d17cf423.js"><link rel="prefetch" href="/awesome/assets/js/12.392a85ed.js"><link rel="prefetch" href="/awesome/assets/js/13.28ddba08.js"><link rel="prefetch" href="/awesome/assets/js/14.4e72c3a4.js"><link rel="prefetch" href="/awesome/assets/js/15.8ba973aa.js"><link rel="prefetch" href="/awesome/assets/js/16.cb3e7e36.js"><link rel="prefetch" href="/awesome/assets/js/17.70061e30.js"><link rel="prefetch" href="/awesome/assets/js/19.e3ab0aa3.js"><link rel="prefetch" href="/awesome/assets/js/20.111866e5.js"><link rel="prefetch" href="/awesome/assets/js/21.56492047.js"><link rel="prefetch" href="/awesome/assets/js/22.7826e290.js"><link rel="prefetch" href="/awesome/assets/js/23.e9c824b5.js"><link rel="prefetch" href="/awesome/assets/js/24.6578b03b.js"><link rel="prefetch" href="/awesome/assets/js/25.c8c15ada.js"><link rel="prefetch" href="/awesome/assets/js/26.935f6391.js"><link rel="prefetch" href="/awesome/assets/js/27.5d694853.js"><link rel="prefetch" href="/awesome/assets/js/28.38ba395b.js"><link rel="prefetch" href="/awesome/assets/js/29.bcd10976.js"><link rel="prefetch" href="/awesome/assets/js/3.e8b1b2fa.js"><link rel="prefetch" href="/awesome/assets/js/30.1c843734.js"><link rel="prefetch" href="/awesome/assets/js/31.fd638585.js"><link rel="prefetch" href="/awesome/assets/js/32.18789134.js"><link rel="prefetch" href="/awesome/assets/js/33.e72e98ff.js"><link rel="prefetch" href="/awesome/assets/js/34.f73c849f.js"><link rel="prefetch" href="/awesome/assets/js/35.4559815c.js"><link rel="prefetch" href="/awesome/assets/js/36.aea94826.js"><link rel="prefetch" href="/awesome/assets/js/37.e7cadf2e.js"><link rel="prefetch" href="/awesome/assets/js/38.370226ec.js"><link rel="prefetch" href="/awesome/assets/js/39.f7cec98c.js"><link rel="prefetch" href="/awesome/assets/js/4.6d0538b8.js"><link rel="prefetch" href="/awesome/assets/js/40.02e232d5.js"><link rel="prefetch" href="/awesome/assets/js/41.bb41be78.js"><link rel="prefetch" href="/awesome/assets/js/42.4e6155ce.js"><link rel="prefetch" href="/awesome/assets/js/43.11356b0b.js"><link rel="prefetch" href="/awesome/assets/js/44.0cf608c4.js"><link rel="prefetch" href="/awesome/assets/js/45.c9ba7c2b.js"><link rel="prefetch" href="/awesome/assets/js/46.dd90383b.js"><link rel="prefetch" href="/awesome/assets/js/47.11351000.js"><link rel="prefetch" href="/awesome/assets/js/48.d887f041.js"><link rel="prefetch" href="/awesome/assets/js/49.5f885564.js"><link rel="prefetch" href="/awesome/assets/js/5.a33ef64a.js"><link rel="prefetch" href="/awesome/assets/js/50.15943115.js"><link rel="prefetch" href="/awesome/assets/js/51.35fffd28.js"><link rel="prefetch" href="/awesome/assets/js/52.93c74d30.js"><link rel="prefetch" href="/awesome/assets/js/53.33c7e5f9.js"><link rel="prefetch" href="/awesome/assets/js/54.f1edf4d2.js"><link rel="prefetch" href="/awesome/assets/js/55.1dfa7716.js"><link rel="prefetch" href="/awesome/assets/js/56.f7e73402.js"><link rel="prefetch" href="/awesome/assets/js/57.101ea827.js"><link rel="prefetch" href="/awesome/assets/js/58.3edbb47b.js"><link rel="prefetch" href="/awesome/assets/js/59.9185c2d1.js"><link rel="prefetch" href="/awesome/assets/js/6.9c7791cf.js"><link rel="prefetch" href="/awesome/assets/js/60.adcce7b8.js"><link rel="prefetch" href="/awesome/assets/js/61.6ceda493.js"><link rel="prefetch" href="/awesome/assets/js/62.cbea1b15.js"><link rel="prefetch" href="/awesome/assets/js/63.2c5057e6.js"><link rel="prefetch" href="/awesome/assets/js/64.3694353d.js"><link rel="prefetch" href="/awesome/assets/js/65.1712b435.js"><link rel="prefetch" href="/awesome/assets/js/66.d7b7f860.js"><link rel="prefetch" href="/awesome/assets/js/67.8ee5e626.js"><link rel="prefetch" href="/awesome/assets/js/68.9b015aed.js"><link rel="prefetch" href="/awesome/assets/js/69.e2b38628.js"><link rel="prefetch" href="/awesome/assets/js/7.8894017d.js"><link rel="prefetch" href="/awesome/assets/js/70.91ae9931.js"><link rel="prefetch" href="/awesome/assets/js/71.77e740bf.js"><link rel="prefetch" href="/awesome/assets/js/72.c55ace3c.js"><link rel="prefetch" href="/awesome/assets/js/73.cabad167.js"><link rel="prefetch" href="/awesome/assets/js/74.415e989e.js"><link rel="prefetch" href="/awesome/assets/js/75.02b8b44d.js"><link rel="prefetch" href="/awesome/assets/js/76.82405eaf.js"><link rel="prefetch" href="/awesome/assets/js/77.ab901c9e.js"><link rel="prefetch" href="/awesome/assets/js/78.89747448.js"><link rel="prefetch" href="/awesome/assets/js/79.f4a87a32.js"><link rel="prefetch" href="/awesome/assets/js/8.ec01ee92.js"><link rel="prefetch" href="/awesome/assets/js/80.74db0fe5.js"><link rel="prefetch" href="/awesome/assets/js/81.717d58f8.js"><link rel="prefetch" href="/awesome/assets/js/82.56660a5b.js"><link rel="prefetch" href="/awesome/assets/js/83.87ade905.js"><link rel="prefetch" href="/awesome/assets/js/84.a2ba3765.js"><link rel="prefetch" href="/awesome/assets/js/85.ac29c610.js"><link rel="prefetch" href="/awesome/assets/js/86.e5dc4e75.js"><link rel="prefetch" href="/awesome/assets/js/87.d13e7768.js"><link rel="prefetch" href="/awesome/assets/js/88.4bd0cc9b.js"><link rel="prefetch" href="/awesome/assets/js/89.ca40423a.js"><link rel="prefetch" href="/awesome/assets/js/9.36f3b8fe.js"><link rel="prefetch" href="/awesome/assets/js/90.3dcd1b2a.js"><link rel="prefetch" href="/awesome/assets/js/91.eada99a5.js"><link rel="prefetch" href="/awesome/assets/js/92.06e89b8a.js"><link rel="prefetch" href="/awesome/assets/js/93.7d4ea073.js"><link rel="prefetch" href="/awesome/assets/js/94.f1edd019.js"><link rel="prefetch" href="/awesome/assets/js/95.12a2f6ec.js"><link rel="prefetch" href="/awesome/assets/js/96.0461441a.js"><link rel="prefetch" href="/awesome/assets/js/97.b2d6563b.js"><link rel="prefetch" href="/awesome/assets/js/98.4dc1657c.js"><link rel="prefetch" href="/awesome/assets/js/99.5a25b18a.js">
    <link rel="stylesheet" href="/awesome/assets/css/0.styles.43393e4c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/awesome/" class="home-link router-link-active"><!----> <span class="site-name">Awesome-FE</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/awesome/fn.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/awesome/bn.html" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/awesome/note.html" class="nav-link">
  笔记
</a></div><div class="nav-item"><a href="/awesome/interview.html" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="https://github.com/Composur" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/awesome/fn.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/awesome/bn.html" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/awesome/note.html" class="nav-link">
  笔记
</a></div><div class="nav-item"><a href="/awesome/interview.html" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="https://github.com/Composur" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>1.git 初始化</span> <!----></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="_1-git-初始化"><a href="#_1-git-初始化" class="header-anchor">#</a> 1.git 初始化</h3> <ul><li>清空现有的 key</li></ul> <div class="language- extra-class"><pre><code>rm -rf ~/.ssh/*
</code></pre></div><ul><li>运行</li></ul> <div class="language- extra-class"><pre><code>ssh-keygen -t rsa -b 4096 -C &quot;你的邮箱&quot;
</code></pre></div><ul><li>执行</li></ul> <div class="language- extra-class"><pre><code>cat ~/.ssh/id_rsa.pub
</code></pre></div><ul><li><p>把得到的公钥放到 GitHub 上</p></li> <li><p>执行</p></li></ul> <div class="language- extra-class"><pre><code>ssh -T git@github.com
</code></pre></div><ul><li>之后配置下 git（这是全局配置，如果配置单个仓库，去掉 global 即可）</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git config --global user.name 你的英文名   #此英文名不需要跟GitHub账号保持一致
git config --global user.email 你的邮箱   #此邮箱不需要跟GitHub账号保持一致
git config --global push.default matching
git config --global core.quotepath false
git config --global core.editor &quot;vim&quot;

</code></pre></div><ul><li>增加 origin</li></ul> <div class="language- extra-class"><pre><code> git remote add origin  https://github.com/Composur/vue-admin.git
</code></pre></div><h3 id="_2-git-clone-branch"><a href="#_2-git-clone-branch" class="header-anchor">#</a> 2.git clone branch</h3> <div class="language- extra-class"><pre><code>git branch -r/-a 查看远程/所有分支
</code></pre></div><p>然后</p> <div class="language- extra-class"><pre><code>git checkout -b 本地分支名x origin/远程分支名x
</code></pre></div><p>会在本地新建分支 x，并自动切换到该本地分支 x</p> <h3 id="_3-git-放弃本地修改"><a href="#_3-git-放弃本地修改" class="header-anchor">#</a> 3.git 放弃本地修改</h3> <div class="language- extra-class"><pre><code>git checkout . #本地所有修改的。没有的提交的，都返回到原来的状态
</code></pre></div><h3 id="_4-git-拉取远程分支到本地"><a href="#_4-git-拉取远程分支到本地" class="header-anchor">#</a> 4.git 拉取远程分支到本地</h3> <ul><li><p>这里本地已经与 origin master 建立连接</p></li> <li><p>把远程分支拉到本地</p></li></ul> <div class="language- extra-class"><pre><code>git fetch origin dev（dev为远程仓库的分支名）
</code></pre></div><ul><li>在本地创建分支 dev 并切换到该分支</li></ul> <div class="language- extra-class"><pre><code>git checkout -b dev(本地分支名称) origin/dev(远程分支名称)
</code></pre></div><ul><li>把某个分支上的内容都拉取到本地</li></ul> <div class="language- extra-class"><pre><code>git pull origin dev(远程分支名称)
</code></pre></div><ul><li>建立本地分支和远程分支的关联，使用</li></ul> <div class="language- extra-class"><pre><code>git branch --set-upstream branch-name origin/branch-name
</code></pre></div><h3 id="_5-git-删除本地-远程分支"><a href="#_5-git-删除本地-远程分支" class="header-anchor">#</a> 5.git 删除本地/远程分支</h3> <ul><li>删除本地</li></ul> <div class="language- extra-class"><pre><code>git branch -d BranchName
</code></pre></div><ul><li>删除远程</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git push origin --delete BranchName

</code></pre></div><h3 id="_6-git-log"><a href="#_6-git-log" class="header-anchor">#</a> 6.Git log</h3> <ul><li><p>默认不用任何参数的话，git log 会按提交时间列出所有的更新</p></li> <li><p>git log -p -2 我们常用 -p 选项展开显示每次提交的内容差异，用 -2 则仅显示最近的两次更新：</p></li> <li><p>Git 提供了 --word-diff 选项。我们可以将其添加到 git log -p 命令的后面，从而获取单词层面上的对比</p></li></ul> <h3 id="_7-修改分支名称"><a href="#_7-修改分支名称" class="header-anchor">#</a> 7.修改分支名称</h3> <ul><li>当前分支修改</li></ul> <div class="language- extra-class"><pre><code>git branch -m new-name
</code></pre></div><ul><li>其它分支修改</li></ul> <div class="language- extra-class"><pre><code>git branch -m old-name new-name
</code></pre></div><ul><li>重命名本地和远程分支</li></ul> <div class="language- extra-class"><pre><code>git push origin :old-name new-name

git push origin -u new-name
</code></pre></div><h3 id="_8-合并分支"><a href="#_8-合并分支" class="header-anchor">#</a> 8.合并分支</h3> <ul><li>dev 合并到 master</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git checkout master
git pull origin master
git merge dev
git push origin master

</code></pre></div><h3 id="_9-git-同步-fork-的-repo"><a href="#_9-git-同步-fork-的-repo" class="header-anchor">#</a> 9.git 同步 fork 的 repo</h3> <ul><li>查看远程</li></ul> <div class="language- extra-class"><pre><code>git remote -v
&gt; origin  https://github.com/YOUR_USERNAME/YOUR_FORK.git (fetch)
&gt; origin  https://github.com/YOUR_USERNAME/YOUR_FORK.git (push)
</code></pre></div><ul><li>增加远程 fork 的 upstream</li></ul> <div class="language- extra-class"><pre class="language-text"><code>$ git remote add upstream https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY.git
$ git remote -v
&gt; origin    https://github.com/YOUR_USERNAME/YOUR_FORK.git (fetch)
&gt; origin    https://github.com/YOUR_USERNAME/YOUR_FORK.git (push)
&gt; upstream  https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY.git (fetch)
&gt; upstream  https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY.git (push)

</code></pre></div><ul><li>更新</li></ul> <div class="language- extra-class"><pre><code>$ git fetch upstream branch_name
&gt; remote: Counting objects: 75, done.
&gt; remote: Compressing objects: 100% (53/53), done.
&gt; remote: Total 62 (delta 27), reused 44 (delta 9)
&gt; Unpacking objects: 100% (62/62), done.
&gt; From https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY
&gt;  * [new branch]      master     -&gt; upstream/master


$ git rebase upstream branch_name
</code></pre></div> <div class="language- extra-class"><pre><code># 上面两步合为一步

$ git pull upstream  branch_name --rebase
</code></pre></div><ul><li><p>提交到代码（remote origin）</p> <ul><li>初次 push</li></ul> <div class="language- extra-class"><pre><code>git push --set-upstream origin branch_name
</code></pre></div><ul><li>非初次 push</li></ul> <div class="language- extra-class"><pre><code>git push
</code></pre></div></li></ul> <div class="language- extra-class"><pre><code>$ git checkout master
&gt; Switched to branc 'master'
</code></pre></div><ul><li>本地合并到 upstream/master</li></ul> <div class="language- extra-class"><pre><code>$ git merge upstream/master
&gt; Updating a422352..5fdff0f
&gt; Fast-forward
&gt;  README                    |    9 -------
&gt;  README.md                 |    7 ++++++
&gt;  2 files changed, 7 insertions(+), 9 deletions(-)
&gt;  delete mode 100644 README
&gt;  create mode 100644 README.md
</code></pre></div><ul><li>更新自己的 repo</li></ul> <div class="language- extra-class"><pre><code>git push origin master
</code></pre></div><h3 id="_10-reset-版本回退利器"><a href="#_10-reset-版本回退利器" class="header-anchor">#</a> 10.Reset 版本回退利器</h3> <h4 id="如果我们想回退到某个版本可以用-git-log-查看-git-log-命令显示从最近到最远的提交日志如果嫌输出信息太多-可以试试加上-pretty-oneline-参数"><a href="#如果我们想回退到某个版本可以用-git-log-查看-git-log-命令显示从最近到最远的提交日志如果嫌输出信息太多-可以试试加上-pretty-oneline-参数" class="header-anchor">#</a> 如果我们想回退到某个版本可以用 git log 查看，git log 命令显示从最近到最远的提交日志如果嫌输出信息太多，可以试试加上--pretty=oneline 参数;</h4> <ul><li><p>reset 命令把当前分支指向另一个位置，并且有选择的变动工作目录和索引。也用来在从历史仓库中复制文件到索引，而不动工作目录。</p></li> <li><p>如果不给选项（默认--mixed ），那么当前分支指向到那个提交。如果用--hard 选项，那么工作目录也更新，如果用--soft 选项，那么都不变。</p></li> <li><p>如果没有给出提交点的版本号，那么默认用 HEAD。这样，分支指向不变，但是索引会回滚到最后一次提交，如果用--hard 选项，工作目录也同样。</p></li> <li><p>如果给了文件名(或者 -p 选项), 那么工作效果和带文件名的 checkout 差不多，除了索引被更新。</p></li></ul> <div class="language- extra-class"><pre><code>git reset --hard HEAD^ #回退到上个版本有多少个^就回退多少个版本
git reset --hard HASH #返回到某个节点，不保留修改。
git reset --soft HASH #返回到某个节点。保留修改。


git push origin master --force  #强制覆盖远程master分支  gitlab 默认master有写保护 需要先取消写保护
</code></pre></div><h3 id="_11-git-pull-和-git-fetch-的区别"><a href="#_11-git-pull-和-git-fetch-的区别" class="header-anchor">#</a> 11.git pull 和 git fetch 的区别</h3> <ul><li><p>来一张珍藏的图
<img src="/awesome/assets/img/git_pull.cb73c307.jpg" alt=""></p></li> <li><p>git pull = git fetch + merge</p></li> <li><p>git fetch 拿到了远程所有分支的更新</p></li> <li><p>merge 动作的默认目标是当前分支</p></li> <li><p>merge 动作的来源则取决于你是否有 tracking</p></li></ul> <h3 id="rebase-和-merge-的用法"><a href="#rebase-和-merge-的用法" class="header-anchor">#</a> rebase 和 merge 的用法</h3> <ul><li><p>它们做的事情是一样的</p></li> <li><p>merge 它是一个安全的操作,现有的分支不会被更改，但是会引入一个外来的合并提交</p> <div class="language- extra-class"><pre><code>git checkout feature
git merge master
</code></pre></div></li> <li><p>rebase 作为 merge 的替代选择 rebase 最大的好处是你的项目历史会非常整洁, 但是你看不到 feature 分支中并入了上游的哪些更改</p></li></ul> <div class="language- extra-class"><pre><code>  git checkout feature
  git rebase master
</code></pre></div><h3 id="_12-git-pull-push-强制覆盖本地文件-远程仓库"><a href="#_12-git-pull-push-强制覆盖本地文件-远程仓库" class="header-anchor">#</a> 12.git pull/push 强制覆盖本地文件/远程仓库</h3> <div class="language- extra-class"><pre><code>    git fetch --all
    git reset --hard origin/master
    git pull
</code></pre></div> <div class="language- extra-class"><pre><code>  git push origin master --force
</code></pre></div><h3 id="_13-git-config"><a href="#_13-git-config" class="header-anchor">#</a> 13.git config</h3> <p>查看系统 config</p> <div class="language- extra-class"><pre><code>git config --system --list
</code></pre></div><p>查看全局配置</p> <div class="language- extra-class"><pre><code>git config --global --list
</code></pre></div><p>查看当前仓库配置信息</p> <div class="language- extra-class"><pre><code>git config --local  --list
</code></pre></div><p>git 设置代理(非全局)
地址和端口号在 ss 配置中查找</p> <div class="language- extra-class"><pre><code>方法1: 在终端中直接运行命令
export http_proxy=http://proxyAddress:port
这个办法的好处是简单直接，并且影响面很小（只对当前终端有效）。
</code></pre></div><p>git 取消代理 http_proxy 以及 https_proxy</p> <div class="language- extra-class"><pre class="language-text"><code>git config --global --unset http.proxy
git config --global --unset https.proxy

</code></pre></div><p>查看当前 proxy</p> <div class="language- extra-class"><pre><code> env | grep -i proxy
</code></pre></div><h3 id="_14-message-规范"><a href="#_14-message-规范" class="header-anchor">#</a> 14.Message 规范</h3> <h4 id="类型-type-定义"><a href="#类型-type-定义" class="header-anchor">#</a> 类型(type)定义</h4> <ul><li><p>build: 版本发布</p></li> <li><p>ci: 集成环境的变动</p></li> <li><p>chore: 构建过程或者辅助工具的变动</p></li> <li><p>docs: 文档</p></li> <li><p>feat: 新功能</p></li> <li><p>fix: 修复 Bug</p></li> <li><p>perf: 优化相关</p></li> <li><p>refactor: 重构(即不是新增功能，也不是修改 Bug 的代码变动)</p></li> <li><p>revert: commit 回滚</p></li> <li><p>style: 代码格式(即不影响代码运行的变动)</p></li> <li><p>test: 测试相关</p></li></ul> <div class="language- extra-class"><pre><code>type(scope?): &lt;subject&gt;

&lt;body&gt;?

&lt;foot&gt;?
</code></pre></div><p>type 只能小写并且不能为空，scope 只能小写，subject 简短清晰的描述这次提交并且不能为空。</p> <p>body 可以是你这次提交的详细描述，比如新增的方法的作用，foot 可以是你这次提交的代码会带来什么影响，比如测试影响。</p> <h3 id="_15-分支管理"><a href="#_15-分支管理" class="header-anchor">#</a> 15.分支管理</h3> <ul><li><p>功能（feature）分支</p></li> <li><p>预发布（release）分支</p></li> <li><p>修补 bug（fixbug）分支
这三种分支都属于临时性需要，使用完以后，应该删除，使得代码库的常设分支始终只有 Master 和 Develop。</p></li></ul> <h4 id="普通分支流程周期"><a href="#普通分支流程周期" class="header-anchor">#</a> 普通分支流程周期</h4> <ol><li>新建分支</li></ol> <div class="language- extra-class"><pre><code>　git checkout -b feature-x develop
</code></pre></div><ol><li>合并分支</li></ol> <div class="language- extra-class"><pre class="language-text"><code>git checkout develop

git merge  feature-x

</code></pre></div><ol><li>删除分支</li></ol> <div class="language- extra-class"><pre><code>git branch -d feature-x
</code></pre></div><h4 id="bug-分支流程"><a href="#bug-分支流程" class="header-anchor">#</a> bug 分支流程</h4> <p><strong>git stash 不会把新增的文件暂存，如果想 stash 后切换分支，你需要先 git add xxx 后 git stash</strong></p> <ol><li>暂存当前 dev 分支（不提交到 git 服务器）</li></ol> <div class="language- extra-class"><pre><code>$ git stash
Saved working directory and index state WIP on dev: f52c633 add merge
</code></pre></div><ol><li>确定 bug 在哪个分支上，checkout 到对应的分支后新建 bug 分支</li></ol> <div class="language- extra-class"><pre><code>$ git checkout -b issue-101
Switched to a new branch 'issue-101'
</code></pre></div><ol><li>修改完成后切换到对应的分支如 master,然后进行 merge</li></ol> <div class="language- extra-class"><pre><code>$ git checkout master
Switched to branch 'master'
Your branch is ahead of 'origin/master' by 6 commits.
  (use &quot;git push&quot; to publish your local commits)

$ git merge --no-ff -m &quot;merged bug fix 101&quot; issue-101
Merge made by the 'recursive' strategy.
 readme.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
</code></pre></div><ol><li>继续切换到 dev 进行开发，解冻刚才的暂存</li></ol> <div class="language- extra-class"><pre><code>$ git stash list
stash@{0}: WIP on dev: f52c633 add merge

$ git stash apply

$ git stash apply stash@{0} 恢复指定的stash
</code></pre></div><ol><li><p>关于 git stash</p> <p>上述 4 恢复字后 stash 暂存区并不会自动删除，就是你提交暂存后也不会消失。<code>git stash list</code> 查暂存看依旧存在,可用<code>git stash drop</code>来删除；会删除全部暂存；另一种方式是用<code>git stash pop</code>，恢复的同时把 stash 内容也删了</p></li></ol> <div class="language- extra-class"><pre><code>git stash pop
Dropped refs/stash@{0} (98e7191bbb73bd9e6214f79ff2b528d95b6477bd)
</code></pre></div><ol><li>注意，此时我们只是修改了 mater 上的分支，当前的 dev 分支依然存在这个问题同样的 bug，要在 dev 上修复，我们只需要把第<code>3</code>步的<code>merged bug fix 101</code>commit 头部信息 复制到<code>dev</code>分支就行；我们只是需要复制这个修改而不管其它的</li></ol> <div class="language- extra-class"><pre><code>$ git branch
* dev
  master
$ git cherry-pick commit编码（例如：a264173）
[master 1d4b803] fix bug 101
 1 file changed, 1 insertion(+), 1 deletion(-)
</code></pre></div><ol><li>删除 stash</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 清空所有 stash</span>
<span class="token function">git</span> stash <span class="token function">clear</span>
</code></pre></div><h3 id="_15-git-移除远程文件夹"><a href="#_15-git-移除远程文件夹" class="header-anchor">#</a> 15. git 移除远程文件夹</h3> <p>把不需要版本控制的文件提交到远程分支上后，需要删除远程分支上的文件，用以下操作即可</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> <span class="token function">rm</span> -r --cached <span class="token function">dirname</span> //删除远程文件夹，但保留本地文件夹
<span class="token function">git</span> commit -m ‘say something’ //提交操作，并添加描述
<span class="token function">git</span> push origin master //推送
</code></pre></div><p>当我们需要删除暂存区或分支上的文件, 同时工作区也不需要这个文件了, 可以使用</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> <span class="token function">rm</span> file_path
</code></pre></div><h3 id="_16-git-修改远程仓库地址"><a href="#_16-git-修改远程仓库地址" class="header-anchor">#</a> 16. git 修改远程仓库地址</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> remote set-url origin 新地址
</code></pre></div><h3 id="_17-强制远程覆盖本地"><a href="#_17-强制远程覆盖本地" class="header-anchor">#</a> 17. 强制远程覆盖本地</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>// 从远程拉取所有内容
<span class="token function">git</span> fetch --all

// reset 本地代码
<span class="token function">git</span> reset --hard origin/master

// 重启拉取对齐
<span class="token function">git</span> pull
</code></pre></div><h3 id="_18-git-删除本地存在但远程不存在的分支"><a href="#_18-git-删除本地存在但远程不存在的分支" class="header-anchor">#</a> 18. git 删除本地存在但远程不存在的分支</h3> <p>使本地和远程保持同步</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">git</span> remote prune origin
</code></pre></div><h3 id="_19-git-修改-commit-message-信息"><a href="#_19-git-修改-commit-message-信息" class="header-anchor">#</a> 19. git 修改 commit message 信息</h3> <h4 id="最近一次的"><a href="#最近一次的" class="header-anchor">#</a> 最近一次的</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> commit --amend
</code></pre></div><h4 id="历史提交的"><a href="#历史提交的" class="header-anchor">#</a> 历史提交的</h4> <ol><li><p>使用 <code>git rebase -i HEAD~n</code> 命令在默认文本编辑器中显示最近 <code>n</code> 个提交的列表。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> rebase -i HEAD~3
</code></pre></div></li> <li><p>此列表将类似于以下内容：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>pick e499d89 Delete CNAME
pick 0c39034 Better README
pick f7fde4a Change the commit message but push the same commit.

<span class="token comment"># Rebase 9fdb3bd..f7fde4a onto 9fdb3bd</span>
<span class="token comment">#</span>
<span class="token comment"># Commands:</span>
<span class="token comment"># p, pick = use commit</span>
<span class="token comment"># r, reword = use commit, but edit the commit message</span>
<span class="token comment"># e, edit = use commit, but stop for amending</span>
<span class="token comment"># s, squash = use commit, but meld into previous commit</span>
<span class="token comment"># f, fixup = like &quot;squash&quot;, but discard this commit's log message</span>
<span class="token comment"># x, exec = run command (the rest of the line) using shell</span>
<span class="token comment">#</span>
</code></pre></div></li> <li><p>在要更改的每个提交消息的前面，用 <code>reword</code> 替换 <code>pick</code>。</p> <div class="language- extra-class"><pre><code>pick e499d89 Delete CNAME
reword 0c39034 Better README
reword f7fde4a Change the commit message but push the same commit.
</code></pre></div></li> <li><p>保存并关闭提交列表文件。</p></li> <li><p>在每个生成的提交文件中，键入新的提交消息，保存文件，然后关闭它</p></li> <li><p>准备好将更改推送到 GitHub 时，请使用 push - force 命令强制推送旧提交。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> push --force example-branch
</code></pre></div></li></ol> <h3 id="_20-git-cherry-pick"><a href="#_20-git-cherry-pick" class="header-anchor">#</a> 20. git cherry-pick</h3> <blockquote><p>将指定的提交（commit）应用于其他分支。</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code> <span class="token function">git</span> cherry-pick <span class="token operator">&lt;</span>commitHash<span class="token operator">&gt;</span>
</code></pre></div><p>举例来说，代码仓库有<code>master</code>和<code>feature</code>两个分支。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>a - b - c - d   Master
         <span class="token punctuation">\</span>
           e - f - g Feature
</code></pre></div><p>现在将提交<code>f</code>应用到<code>master</code>分支。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 切换到 master 分支</span>
$ <span class="token function">git</span> checkout master

<span class="token comment"># Cherry pick 操作</span>
$ <span class="token function">git</span> cherry-pick f
</code></pre></div><p>上面的操作完成以后，代码库就变成了下面的样子。</p> <div class="language-bash extra-class"><pre class="language-bash"><code> a - b - c - d - f   Master
         <span class="token punctuation">\</span>
           e - f - g Feature
</code></pre></div><p><code>git cherry-pick</code>命令的参数，不一定是提交的哈希值，分支名也是可以的，表示转移该分支的最新提交。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 表示将 feature 分支的最近一次提交，转移到当前分支。</span>
$ <span class="token function">git</span> cherry-pick feature
</code></pre></div><h3 id="_21-恢复远程仓库删除的代码"><a href="#_21-恢复远程仓库删除的代码" class="header-anchor">#</a> 21. 恢复远程仓库删除的代码</h3> <p>先列出提交日志，找到删除那次提交的 commit</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> log --diff-filter<span class="token operator">=</span>D --summary
</code></pre></div><p>找到后</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> checkout <span class="token variable">$commit</span>~1 filename
<span class="token comment"># 例如</span>
<span class="token function">git</span> checkout 3b63e41b68f2ea97d11c166c00cd22589639806e~1 yarn.lock
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/awesome/assets/js/app.4cd6568a.js" defer></script><script src="/awesome/assets/js/2.4fcc29d0.js" defer></script><script src="/awesome/assets/js/18.e13642e7.js" defer></script>
  </body>
</html>
