(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{484:function(t,s,a){"use strict";a.r(s);var n=a(43),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"module-的语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#module-的语法"}},[t._v("#")]),t._v(" Module 的语法")]),t._v(" "),a("h3",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),a("blockquote",[a("p",[t._v("写在前面，计算机语言的发展，机器语言--汇编语言--低级语言（面向过程）--高级语言（面向对象）--系统化模块--框架--API")])]),t._v(" "),a("h4",{attrs:{id:"es6-之前"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es6-之前"}},[t._v("#")]),t._v(" es6 之前")]),t._v(" "),a("p",[t._v("​\t"),a("strong",[t._v("没有模块化的时候出现的问题")])]),t._v(" "),a("ul",[a("li",[t._v("脚本变多时，需要手动管理")]),t._v(" "),a("li",[t._v("不同逻辑脚本间的调用需要用到全局变量。")]),t._v(" "),a("li",[t._v("没有HTML就没法运行了，没地方写script标签")]),t._v(" "),a("li",[t._v("没有模块(在HTML中借助"),a("code",[t._v("script")]),t._v("标签执行"),a("code",[t._v("JavaScript")]),t._v(")--CMD（同步）--AMD（异步）--es6")])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("AMD")]),t._v("规范:全称”Asynchronous Module Definition”，称为 异步模块加载规范 。一般应用在浏览器端。流行的浏览器端异步加载库"),a("code",[t._v("RequireJS")]),t._v("实现的就是"),a("code",[t._v("AMD")]),t._v("规范。")]),t._v(" "),a("p",[a("code",[t._v("CommonJS")]),t._v(": 称为同步模块加载规范，也就是说，只有加载完成，才能执行后面的操作。用于服务器端。")])]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("CommonJS")]),t._v(" 模块就是对象，输入时必须查找对象属性。代码运行时加载，输出的值是值得拷贝。")])]),t._v(" "),a("li",[a("p",[t._v("依赖前置，提前执行!")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 只有先全部加载 fs 这个方法才能在这个对象上读取这个三个方法")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" stat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exists"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" readFile "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])])])])]),t._v(" "),a("h4",{attrs:{id:"es6-中的-module-需要进行编译-在浏览器不能够直接运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es6-中的-module-需要进行编译-在浏览器不能够直接运行"}},[t._v("#")]),t._v(" es6 中的 module（需要进行编译，在浏览器不能够直接运行）")]),t._v(" "),a("blockquote",[a("p",[t._v("ES6 模块不是对象，而是通过 export 命令显式指定输出的代码，再通过 import 命令输入。输入的是值的引用。")])]),t._v(" "),a("ul",[a("li",[t._v("这种加载称为“编译时加载”或者静态加载，效率更高")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ES6模块 从`fs`模块加载3个方法不用全部加载")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" stat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exists"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" readFile "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n")])])]),a("h4",{attrs:{id:"export"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#export"}},[t._v("#")]),t._v(" export")]),t._v(" "),a("blockquote",[a("p",[t._v("每个module都是一个独立的文件，该文件类的所有内容外部都无法获取,export命令用于规定模块的对外接口，import命令用于输入其他模块提供的功能。")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("写法")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("export const name='haha'\n\n//也可以\nname='haha'\nsex='male'\nexport {name,sex} //可以接受多个属性\n\n//输出变量和类\n\nexport function fn(){}\n\n")])])])]),t._v(" "),a("li",[a("p",[t._v("export 输出的变量是有名字的，可以使用as替换")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function fn1(){}\n\nexport {fn1 as fn2}\n\n")])])])]),t._v(" "),a("li",[a("p",[t._v("默认成员")]),t._v(" "),a("p",[t._v("export default")])])]),t._v(" "),a("h4",{attrs:{id:"import"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#import"}},[t._v("#")]),t._v(" import")]),t._v(" "),a("p",[a("code",[t._v("import 'fs'")]),t._v(" 这样会加载所有")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("\bimport {xx,xxx} form 'xxxxx'\n")])])]),a("p",[a("code",[t._v("import")]),t._v(" 导入的时候需要知道\b要导入的方法名称")]),t._v(" "),a("p",[t._v("如果\b\b使用了 "),a("code",[t._v("export default")]),t._v(" 的默认输出，我们 "),a("code",[t._v("import")]),t._v(" 的时候可以用任意的名字")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("export.js\n\nexport default function fn(){} //一个模块只能有一个默认输出，还是可以通过export 正常导出其它函数，import {xx}通过指定名称正常导入\n\n\nimport.js \n\nimport foo from 'export.js' //import时候不能使用大括号\n\n")])])]),a("h4",{attrs:{id:"node-中-commonjs-规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-中-commonjs-规范"}},[t._v("#")]),t._v(" Node 中 CommonJS 规范")]),t._v(" "),a("blockquote",[a("p",[t._v("C\bommonJS 是一个很大的规范 Node 和浏览器只是借用了它的一部分精华")])]),t._v(" "),a("p",[a("em",[t._v("先来Node环境运行的结果：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# a.js\n\nconsole.log('我是a.js')\n\n")])])]),a("p",[a("em",[t._v("无引用的情况：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# b.js\n\nconst lib = require('./a')\nconsole.log('我是b.js')\n\n# 运行b.js\n\n我是a.js\n我是b.js\n")])])]),a("p",[a("em",[t._v("有引用的情况：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# b.js\n\nconst lib = require('./a')\nconsole.log('我是b.js',lib)\n\n# 运行b.js\n\n我是a.js\n我是b.js {} //得到一个空对象\n\n")])])]),a("p",[a("em",[t._v("有 "),a("code",[t._v("exports")]),t._v(" 情况，通过 exports 定义模块的输出：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# a.js\n\nexports.hello='world!' // 这里可以挂载合法的数据类型，对象、字符串、函数等\nconsole.log('我是a.js')\n\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# b.js\n\nconst lib = require('./a')\nconsole.log('我是b.js',lib)\n\n# 运行b.js\n\n我是a.js\n我是b.js { hello: 'world!' } //得到一个含有 key 的对象 `key` 就是挂载到 `exports` 上的属性名\n\n")])])]),a("p",[a("em",[t._v("b.js require 的引用和 a.js exports 的引用是不是同一个引用？")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# a.js\n\nexports.hello='world!'\nconsole.log('我是a.js')\nsetTimeout(()=>{\n  console.log(exports)\n},1000)\n\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# b.js\n\nconst lib = require('./a')\nconsole.log('我是b.js',lib)\nlib.addNewProperty = '我是b.js中新增加的属性'\n\n# 运行b.js\n\n我是a.js\n我是b.js { hello: 'world!' }\n\n# 一秒后输出 说明\b  exports 导出的引用和 require 得到的引用是同一个引用\n{ hello: 'world!', addNewProperty: '我是b.js中新增加的属性' } \n\n")])])]),a("p",[a("em",[t._v("如果直接导出一个函数该怎么办？ exports.function?")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("a.js\n\nexports.hello='world!'\n\nconsole.log('我是a.js')\n\nmodule.exports = function test(){\n  console.log('我是a.js导出的function')\n}\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("b.js\n\nconst lib = require('./a')\nconsole.log('我是b.js',lib)\nlib.addNewProperty = '我是b.js中新增加的属性'\nconsole.log(lib.hello)\nconsole.log(lib)\n\n# 运行b.js\n\n我是a.js\n我是b.js function test(){\n  console.log('我是a.js导出的function')\n}\nundefined // 拿不到 exports 的引用 \n\n// addNewProperty 挂载到了 module.exports 上\n{ [Function: test] addNewProperty: '我是b.js中新增加的属性' } // module.exports 会覆盖 exports 的内容 \n\n")])])]),a("blockquote",[a("p",[a("code",[t._v("Node 中 ES6 模块和 CommonJS 采用各自的加载方案。")])])]),t._v(" "),a("p",[a("code",[t._v("CommonJS")]),t._v(" 模块的输出都定义在 "),a("code",[t._v("module.exports")]),t._v(" 这个属性上面。"),a("code",[t._v("Node")]),t._v(" 的 "),a("code",[t._v("import")]),t._v(" 命令加载 "),a("code",[t._v("CommonJS")]),t._v(" 模块，"),a("code",[t._v("Node")]),t._v(" 会自动将"),a("code",[t._v("module.exports")]),t._v(" 属性当作模块的默认输出，即等同于 "),a("code",[t._v("export default xxx")])]),t._v(" "),a("p",[t._v("前端可以借助 "),a("code",[t._v("Webpack")]),t._v(" 利用 "),a("code",[t._v("CommonJS")]),t._v(" 的规范书写代码，"),a("code",[t._v("Webpack")]),t._v(" 会把所有的 "),a("code",[t._v("CommonJS")]),t._v(" 分析一遍然后生成一个大的 "),a("code",[t._v("js")]),t._v(",所有的文件成为一个对象{"),a("code",[t._v("./index.js:(function(modeule,exports,__webpack_require__){文件内容}}),./xxx.js:(function(modeule,exports){文件内容}})")]),t._v(" 通过这种形式为每个文件创建了一个作用域。")]),t._v(" "),a("ul",[a("li",[t._v("CommonJS"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// a.js\nmodule.exports = {\n    foo: 'hello',\n    bar: 'world'\n};\n\n// 等同于\nexport default {\n    foo: 'hello',\n    bar: 'world'\n};\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("ul",[a("li",[t._v("改变 "),a("code",[t._v("require")]),t._v(" 的对象原对象也会受影响（值引用）")]),t._v(" "),a("li",[a("code",[t._v("exports")]),t._v(" 的 "),a("code",[t._v("require")]),t._v(" 的 "),a("code",[t._v("js")]),t._v(" 默认的是一个空对象，对象里面可以有函数")]),t._v(" "),a("li",[a("code",[t._v("exports")]),t._v(" 通过 "),a("code",[t._v("exports.xx")]),t._v(" 导出对象，所有的导出都挂载"),a("code",[t._v("exports")]),t._v("这个对象上，"),a("code",[t._v("require")]),t._v("输入默认的是一个空对象，通过这种方式定义一个对象的输出")]),t._v(" "),a("li",[a("code",[t._v("modules.exports")]),t._v("可以直接导出一个函数")]),t._v(" "),a("li",[a("code",[t._v("exports")]),t._v("和 "),a("code",[t._v("module.exports")]),t._v("同时存在时只会导出 "),a("code",[t._v("module.exports")]),t._v("的内容，会覆盖"),a("code",[t._v("exports")])]),t._v(" "),a("li",[a("code",[t._v("import")]),t._v(" 输出的是值得引用（复制一份地址）")])]),t._v(" "),a("h2",{attrs:{id:"commonjs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commonjs"}},[t._v("#")]),t._v(" CommonJS")]),t._v(" "),a("ol",[a("li",[t._v("使用 "),a("code",[t._v("require")]),t._v(" 和 "),a("code",[t._v("exports")]),t._v(" 关键字和模块系统进行交互")]),t._v(" "),a("li",[a("code",[t._v("CommonJS")]),t._v(" 不支持异步加载")]),t._v(" "),a("li",[t._v("一个文件就是一个模块")])]),t._v(" "),a("h2",{attrs:{id:"amd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#amd"}},[t._v("#")]),t._v(" AMD")]),t._v(" "),a("p",[t._v("AMD诞生的原因是，是因为CommonJS不支持异步加载，不适合浏览器环境。")]),t._v(" "),a("h2",{attrs:{id:"es6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es6"}},[t._v("#")]),t._v(" ES6")]),t._v(" "),a("p",[t._v("ES6 在语言层面上实现了模块机制，与 CommonJS 与 AMD 规范不同的是 ES6 的模块是静态的，不能在文件的任何地方使用。这种行为使得编译器编译时就可以构建依赖关系树。")]),t._v(" "),a("p",[t._v("浏览器中这样使用：")]),t._v(" "),a("ul",[a("li",[t._v("对于需要引入模块的"),a("code",[t._v("<script>")]),t._v("元素，我们需要添加"),a("code",[t._v('type="module"')]),t._v("，这个时候，浏览器会把这段内联script或者外链script认为是ECMAScript模块。")]),t._v(" "),a("li",[t._v("模块 JS 文件，业界或者官方约定俗成命名为"),a("code",[t._v(".mjs")]),t._v("文件格式")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入firstBlood模块")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" pColor "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./firstBlood.mjs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置颜色为红色")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pColor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'red'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("firstBlood.mjs")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export一个改变<p>元素颜色的方法")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pColor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'p'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" color"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"umd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#umd"}},[t._v("#")]),t._v(" UMD")]),t._v(" "),a("p",[t._v("UMD 模块是一种通用的模式，用于兼容 AMD 和 CommonJS 的规范。UMD 规范同时兼容 amd 和commonjs，并支持传统的全局变量的模式。")]),t._v(" "),a("p",[t._v("UMD 判断加载环境")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" factory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" define "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'function'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" define"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("amd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// AMD")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("define")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jquery'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" factory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// CommonJS")]),t._v("\n    module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("factory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jquery'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 全局变量")]),t._v("\n    root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("returnExports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("factory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jQuery"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);